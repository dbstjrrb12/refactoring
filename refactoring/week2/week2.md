# 📅 Week 2 - Chap 3 ~ 4

## 📝 Chap 3 코드에서 나는 악취

### 1. 내용 요약

리팩토링을 하는 기준에 대해 제시한다. 단순히 어느 시점에 리팩토링을 하는 것이 아니라, 코드를 보면서 리팩토링이 필요한 순간을 어떻게 판단할지 기준을 설명하고 있다.

### 2. 적용점

거대한 switch 문의 경우 각 case 구문마다 함수 추출하기를 적용하여 호출문 하나로 바꾼다. 조건문이 여러 개라면 조건부 로직을 다형성으로 바꾸기를 적용한다.

### 3. 의문점

## 📝 Chap 4 테스트 구축하기

### 내용 요약

리팩토링에 있어 테스트 코드의 중요성 뿐만 아니라, 테스트 그 자체로서의 중요성을 강조한다.

테스트 코드를 수행하는 습관은 버그를 찾는 강력한 도구가되기 때문에 그만큼 개발 생산성을 높여준다.

프로그래밍을 시작하기 전이 테스트 코드를 작성하기 좋은 시점이며, 이를 통해 원하는 기능을 추가하기 위해 무엇이 필요한지 고민할 수 있게 된다.

테스트 코드를 작성할 때는 코드의 성격(UI와 비즈니스 로직)에 따라 분리하여 작성하는 것이 테스트를 원활하게 만든다.

테스트 코드의 목적은 향후 발생하는 버그를 찾는 데 있으므로, 단순한 테스트 보다 위험요인을 중심으로 작성하는 것이 좋다. 오히려 수확체감 법칙이 적용되어 너무 많은 코드 작성이 의욕을 덜어뜨릴 위험이 있다.

### 적용점

테스트 코드를 사용할 때, 독립적인 테스트에서 사용하는 데이터를 공유하지 않는 것이 좋다. 만약 테스트에서 해당 데이터를 변경할 경우, 테스트 실행 시점에 따라 테스트 통과 여부가 달라지게 되기 때문이다.

테스트 도구에 따라 각 테스트가 실행하기 전 무조건 실행을 강제하는 테스트 구문에 매번 새로운 데이터를 생성하도록 하는 것이 안전한 테스트에 유리하다. 뿐만 아니라 테스트 코드를 읽는 사람에게도 모든 테스트가 똑같은 기준 데이터로부터 시작한다는 사실을 알려줄 수 있다.

테스트는 설정-실행-검증 단계로 나뉘며, 하나의 테스트에는 하나의 검증만 하는 것이 좋다.

### 의문점

책에서는 단위 테스트에 대한 설명만 나오고 있는데, 프론트에서 E2E 테스트를 할 경우 테스트의 범위 산정을 어떻게 해야 할까?

프론트에서 E2E 테스트가 필요할까?
